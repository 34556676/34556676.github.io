"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1930],{1083:(e,l,n)=>{n.r(l),n.d(l,{assets:()=>r,contentTitle:()=>d,default:()=>c,frontMatter:()=>_,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"\u6570\u636e\u5e93/mysql/\u914d\u7f6e\u53c2\u6570","title":"\u914d\u7f6e\u53c2\u6570","description":"[client]","source":"@site/docs/\u6570\u636e\u5e93/mysql/\u914d\u7f6e\u53c2\u6570.md","sourceDirName":"\u6570\u636e\u5e93/mysql","slug":"/\u6570\u636e\u5e93/mysql/\u914d\u7f6e\u53c2\u6570","permalink":"/docs/\u6570\u636e\u5e93/mysql/\u914d\u7f6e\u53c2\u6570","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u6570\u636e\u5e93/mysql/\u914d\u7f6e\u53c2\u6570.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u7ec6\u8bf4show slave status\u53c2\u6570\u8be6\u89e3","permalink":"/docs/\u6570\u636e\u5e93/mysql/\u7ec6\u8bf4show slave status\u53c2\u6570\u8be6\u89e3"},"next":{"title":"\u534e\u4e3a\u8bbe\u5907\u914d\u7f6eaaa\u8ba4\u8bc1\uff0c\u5f00\u542fssh\u3001http","permalink":"/docs/\u7f51\u7edc\u5de5\u7a0b/\u534e\u4e3a\u8bbe\u5907\u914d\u7f6eaaa\u8ba4\u8bc1\uff0c\u5f00\u542fssh\u3001http"}}');var s=n(4848),o=n(8453);const _={},d=void 0,r={},a=[{value:"#password=88888888",id:"password88888888",level:3},{value:"socket=/data/var/mysql/mysql.sock",id:"socketdatavarmysqlmysqlsock",level:3},{value:"log-error=/var/log/mysqld.log",id:"log-errorvarlogmysqldlog",level:3},{value:"pid-file=/var/run/mysqld/mysqld.pid",id:"pid-filevarrunmysqldmysqldpid",level:3},{value:"socket=/data/var/mysql/mysql.sock",id:"socketdatavarmysqlmysqlsock-1",level:3},{value:"user = mysql",id:"user--mysql",level:3},{value:"port = 31306",id:"port--31306",level:3},{value:"datadir = /data/var/mysql/",id:"datadir--datavarmysql",level:3},{value:"socket=/data/var/mysql/mysql.sock",id:"socketdatavarmysqlmysqlsock-2",level:3},{value:"symbolic-links=0",id:"symbolic-links0",level:3},{value:"server-id = 11",id:"server-id--11",level:3},{value:"#bind_address = 10.166.224.32",id:"bind_address--1016622432",level:3},{value:"autocommit = 1",id:"autocommit--1",level:3},{value:"character_set_server=utf8mb4",id:"character_set_serverutf8mb4",level:3},{value:"skip_name_resolve = 1",id:"skip_name_resolve--1",level:3},{value:"max_connections = 800",id:"max_connections--800",level:3},{value:"max_connect_errors = 1000",id:"max_connect_errors--1000",level:3},{value:"transaction_isolation = READ-COMMITTED",id:"transaction_isolation--read-committed",level:3},{value:"explicit_defaults_for_timestamp = 1",id:"explicit_defaults_for_timestamp--1",level:3},{value:"join_buffer_size = 128M",id:"join_buffer_size--128m",level:3},{value:"tmp_table_size = 128M",id:"tmp_table_size--128m",level:3},{value:"tmpdir = /dev/shm/mysql-tmp/",id:"tmpdir--devshmmysql-tmp",level:3},{value:"max_allowed_packet = 16M",id:"max_allowed_packet--16m",level:3},{value:"sql_mode = &quot;STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION,NO_ZERO_DATE,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER&quot;",id:"sql_mode--strict_trans_tablesno_engine_substitutionno_zero_dateno_zero_in_dateerror_for_division_by_zerono_auto_create_user",level:3},{value:"interactive_timeout = 60",id:"interactive_timeout--60",level:3},{value:"wait_timeout = 60",id:"wait_timeout--60",level:3},{value:"read_buffer_size = 16M",id:"read_buffer_size--16m",level:3},{value:"read_rnd_buffer_size = 32M",id:"read_rnd_buffer_size--32m",level:3},{value:"sort_buffer_size = 32M",id:"sort_buffer_size--32m",level:3},{value:"#log_error = /data/local/mysql-5.7.19/log/mysql-error.log",id:"log_error--datalocalmysql-5719logmysql-errorlog",level:3},{value:"slow_query_log = 1",id:"slow_query_log--1",level:3},{value:"slow_query_log_file = /data/local/mysql-5.7.19/log/mysql-slow.log",id:"slow_query_log_file--datalocalmysql-5719logmysql-slowlog",level:3},{value:"log_queries_not_using_indexes = 1",id:"log_queries_not_using_indexes--1",level:3},{value:"log_slow_admin_statements = 1",id:"log_slow_admin_statements--1",level:3},{value:"log_slow_slave_statements = 1",id:"log_slow_slave_statements--1",level:3},{value:"log_throttle_queries_not_using_indexes = 10",id:"log_throttle_queries_not_using_indexes--10",level:3},{value:"expire_logs_days = 90",id:"expire_logs_days--90",level:3},{value:"long_query_time = 1",id:"long_query_time--1",level:3},{value:"min_examined_row_limit = 100",id:"min_examined_row_limit--100",level:3},{value:"#master_info_repository = TABLE",id:"master_info_repository--table",level:3},{value:"#relay_log_info_repository = TABLE",id:"relay_log_info_repository--table",level:3},{value:"log_bin = /data/local/mysql-5.7.19/log/mysql-bin",id:"log_bin--datalocalmysql-5719logmysql-bin",level:3},{value:"#sync_binlog = 4",id:"sync_binlog--4",level:3},{value:"gtid_mode = on",id:"gtid_mode--on",level:3},{value:"enforce_gtid_consistency = 1",id:"enforce_gtid_consistency--1",level:3},{value:"#log_slave_updates",id:"log_slave_updates",level:3},{value:"binlog_format = row",id:"binlog_format--row",level:3},{value:"#relay_log = /data/local/mysql-5.7.19/log/mysql-relay.log",id:"relay_log--datalocalmysql-5719logmysql-relaylog",level:3},{value:"#relay_log_recovery = 1",id:"relay_log_recovery--1",level:3},{value:"#binlog_gtid_simple_recovery = 1",id:"binlog_gtid_simple_recovery--1",level:3},{value:"#slave_skip_errors = ddl_exist_errors",id:"slave_skip_errors--ddl_exist_errors",level:3},{value:"innodb_page_size = 16K",id:"innodb_page_size--16k",level:3},{value:"innodb_buffer_pool_size = 4G",id:"innodb_buffer_pool_size--4g",level:3},{value:"#innodb_buffer_pool_instances = 8",id:"innodb_buffer_pool_instances--8",level:3},{value:"#innodb_buffer_pool_load_at_startup = 1",id:"innodb_buffer_pool_load_at_startup--1",level:3},{value:"#innodb_buffer_pool_dump_at_shutdown = 1",id:"innodb_buffer_pool_dump_at_shutdown--1",level:3},{value:"#innodb_lru_scan_depth = 2000",id:"innodb_lru_scan_depth--2000",level:3},{value:"innodb_lock_wait_timeout = 5",id:"innodb_lock_wait_timeout--5",level:3},{value:"#innodb_io_capacity = 4000 #innodb_io_capacity_max = 8000",id:"innodb_io_capacity--4000-innodb_io_capacity_max--8000",level:3},{value:"#innodb_flush_method = O_DIRECT",id:"innodb_flush_method--o_direct",level:3},{value:"#innodb_log_group_home_dir = /data/local/mysql-5.7.19/log/redolog/",id:"innodb_log_group_home_dir--datalocalmysql-5719logredolog",level:3},{value:"#innodb_undo_directory = /data/local/mysql-5.7.19/log/undolog/",id:"innodb_undo_directory--datalocalmysql-5719logundolog",level:3},{value:"#innodb_undo_logs = 128",id:"innodb_undo_logs--128",level:3},{value:"#innodb_undo_tablespaces = 0",id:"innodb_undo_tablespaces--0",level:3},{value:"#innodb_flush_neighbors = 1",id:"innodb_flush_neighbors--1",level:3},{value:"#innodb_log_file_size = 4G",id:"innodb_log_file_size--4g",level:3},{value:"#innodb_log_buffer_size = 16M",id:"innodb_log_buffer_size--16m",level:3},{value:"#innodb_purge_threads = 4",id:"innodb_purge_threads--4",level:3},{value:"innodb_large_prefix = 1",id:"innodb_large_prefix--1",level:3},{value:"innodb_thread_concurrency = 64",id:"innodb_thread_concurrency--64",level:3},{value:"#innodb_print_all_deadlocks = 1",id:"innodb_print_all_deadlocks--1",level:3},{value:"#innodb_strict_mode = 1",id:"innodb_strict_mode--1",level:3},{value:"innodb_sort_buffer_size = 64M",id:"innodb_sort_buffer_size--64m",level:3},{value:"#plugin_dir=/data/local/mysql-5.7.19/lib/plugin",id:"plugin_dirdatalocalmysql-5719libplugin",level:3},{value:"#plugin_load = &quot;rpl_semi_sync_master=semisync_master.so;rpl_semi_sync_slave=semisync_slave.so&quot;",id:"plugin_load--rpl_semi_sync_mastersemisync_mastersorpl_semi_sync_slavesemisync_slaveso",level:3},{value:"#loose_rpl_semi_sync_master_enabled = 1",id:"loose_rpl_semi_sync_master_enabled--1",level:3},{value:"#loose_rpl_semi_sync_slave_enabled = 1",id:"loose_rpl_semi_sync_slave_enabled--1",level:3},{value:"#loose_rpl_semi_sync_master_timeout = 5000",id:"loose_rpl_semi_sync_master_timeout--5000",level:3},{value:"#innodb_buffer_pool_dump_pct = 40",id:"innodb_buffer_pool_dump_pct--40",level:3},{value:"innodb_page_cleaners = 4",id:"innodb_page_cleaners--4",level:3},{value:"#innodb_undo_log_truncate = 1",id:"innodb_undo_log_truncate--1",level:3},{value:"#innodb_max_undo_log_size = 2G",id:"innodb_max_undo_log_size--2g",level:3},{value:"#innodb_purge_rseg_truncate_frequency = 128",id:"innodb_purge_rseg_truncate_frequency--128",level:3},{value:"#binlog_gtid_simple_recovery=1",id:"binlog_gtid_simple_recovery1",level:3},{value:"log_timestamps=system",id:"log_timestampssystem",level:3},{value:"#transaction_write_set_extraction=MURMUR32",id:"transaction_write_set_extractionmurmur32",level:3},{value:"#show_compatibility_56=on",id:"show_compatibility_56on",level:3}];function t(e){const l={h3:"h3",p:"p",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.p,{children:"[client]"}),"\n",(0,s.jsx)(l.h3,{id:"password88888888",children:"#password=88888888"}),"\n",(0,s.jsx)(l.p,{children:"mysql\u9ed8\u8ba4\u5bc6\u7801"}),"\n",(0,s.jsx)(l.h3,{id:"socketdatavarmysqlmysqlsock",children:"socket=/data/var/mysql/mysql.sock"}),"\n",(0,s.jsx)(l.p,{children:"mysql\u4ee5socket\u65b9\u5f0f\u8fd0\u884c\u7684sock\u6587\u4ef6\u4f4d\u7f6e"}),"\n",(0,s.jsx)(l.p,{children:"[mysqld_safe]"}),"\n",(0,s.jsx)(l.h3,{id:"log-errorvarlogmysqldlog",children:"log-error=/var/log/mysqld.log"}),"\n",(0,s.jsx)(l.p,{children:"\u9519\u8bef\u65e5\u5fd7\u4f4d\u7f6e"}),"\n",(0,s.jsx)(l.h3,{id:"pid-filevarrunmysqldmysqldpid",children:"pid-file=/var/run/mysqld/mysqld.pid"}),"\n",(0,s.jsx)(l.p,{children:"\u8fdb\u7a0bid\u6587\u4ef6"}),"\n",(0,s.jsx)(l.p,{children:"[mysql]"}),"\n",(0,s.jsx)(l.h3,{id:"socketdatavarmysqlmysqlsock-1",children:"socket=/data/var/mysql/mysql.sock"}),"\n",(0,s.jsx)(l.p,{children:"mysql\u4ee5socket\u65b9\u5f0f\u8fd0\u884c\u7684sock\u6587\u4ef6\u4f4d\u7f6e"}),"\n",(0,s.jsx)(l.p,{children:"[mysqld]"}),"\n",(0,s.jsx)(l.h3,{id:"user--mysql",children:"user = mysql"}),"\n",(0,s.jsx)(l.p,{children:"mysql\u4ee5\u4ec0\u4e48\u7528\u6237\u8fd0\u884c"}),"\n",(0,s.jsx)(l.h3,{id:"port--31306",children:"port = 31306"}),"\n",(0,s.jsx)(l.p,{children:"mysql\u8fd0\u884c\u5728\u54ea\u4e2a\u7aef\u53e3"}),"\n",(0,s.jsx)(l.h3,{id:"datadir--datavarmysql",children:"datadir = /data/var/mysql/"}),"\n",(0,s.jsx)(l.p,{children:"mysql\u7684\u6570\u636e\u76ee\u5f55"}),"\n",(0,s.jsx)(l.h3,{id:"socketdatavarmysqlmysqlsock-2",children:"socket=/data/var/mysql/mysql.sock"}),"\n",(0,s.jsx)(l.p,{children:"mysql\u4ee5socket\u65b9\u5f0f\u8fd0\u884c\u7684sock\u6587\u4ef6\u4f4d\u7f6e"}),"\n",(0,s.jsx)(l.h3,{id:"symbolic-links0",children:"symbolic-links=0"}),"\n",(0,s.jsx)(l.p,{children:"\u662f\u5426\u652f\u6301\u7b26\u53f7\u94fe\u63a5\uff0c\u5373\u6570\u636e\u5e93\u6216\u8868\u53ef\u4ee5\u5b58\u50a8\u5728my.cnf\u4e2d\u6307\u5b9adatadir\u4e4b\u5916\u7684\u5206\u533a\u6216\u76ee\u5f55\uff0c\u4e3a0\u4e0d\u5f00\u542f"}),"\n",(0,s.jsx)(l.p,{children:"########basic settings########"}),"\n",(0,s.jsx)(l.h3,{id:"server-id--11",children:"server-id = 11"}),"\n",(0,s.jsx)(l.p,{children:"mysql\u7684\u670d\u52a1\u5668\u5206\u914did\uff0c\u5728\u542f\u7528\u4e3b\u4ece\u548c\u96c6\u7fa4\u7684\u65f6\u5019\u5fc5\u987b\u6307\u5b9a\uff0c\u6bcf\u4e2a\u8282\u70b9\u5fc5\u987b\u4e0d\u540c"}),"\n",(0,s.jsx)(l.h3,{id:"bind_address--1016622432",children:"#bind_address = 10.166.224.32"}),"\n",(0,s.jsx)(l.p,{children:"mysql\u76d1\u542c\u7684ip\u5730\u5740\uff0c\u5982\u679c\u662f127.0.0.1\uff0c\u8868\u793a\u4ec5\u672c\u673a\u8bbf\u95ee"}),"\n",(0,s.jsx)(l.h3,{id:"autocommit--1",children:"autocommit = 1"}),"\n",(0,s.jsx)(l.p,{children:"\u6570\u636e\u4fee\u6539\u662f\u5426\u81ea\u52a8\u63d0\u4ea4\uff0c\u4e3a0\u4e0d\u81ea\u52a8\u63d0\u4ea4"}),"\n",(0,s.jsx)(l.h3,{id:"character_set_serverutf8mb4",children:"character_set_server=utf8mb4"}),"\n",(0,s.jsx)(l.p,{children:"\u670d\u52a1\u5668\u4f7f\u7528\u7684\u5b57\u7b26\u96c6"}),"\n",(0,s.jsx)(l.h3,{id:"skip_name_resolve--1",children:"skip_name_resolve = 1"}),"\n",(0,s.jsx)(l.p,{children:"\u7981\u7528DNS\u4e3b\u673a\u540d\u67e5\u627e\uff0c\u542f\u7528\u4ee5\u540e\u7528\u5185\u7f51\u5730\u5740\u5411mysqlslap\u8bf7\u6c42\u54cd\u5e94\u5feb\u4e86\u4e00\u534a"}),"\n",(0,s.jsx)(l.h3,{id:"max_connections--800",children:"max_connections = 800"}),"\n",(0,s.jsx)(l.p,{children:"mysql\u6700\u5927\u8fde\u63a5\u6570"}),"\n",(0,s.jsx)(l.h3,{id:"max_connect_errors--1000",children:"max_connect_errors = 1000"}),"\n",(0,s.jsx)(l.p,{children:"\u67d0\u53f0host\u8fde\u63a5\u9519\u8bef\u6b21\u6570\u7b49\u4e8emax_connect_errors\uff08\u9ed8\u8ba410\uff09 \uff0c\u4e3b\u673a'host_name'\u518d\u6b21\u5c1d\u8bd5\u65f6\u88ab\u5c4f\u853d\u3002\u53ef\u6709\u6548\u53cd\u7684\u9632\u6b62dos\u653b\u51fb"}),"\n",(0,s.jsx)(l.h3,{id:"transaction_isolation--read-committed",children:"transaction_isolation = READ-COMMITTED"}),"\n",(0,s.jsx)(l.p,{children:"\u6570\u636e\u5e93\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b"}),"\n",(0,s.jsx)(l.p,{children:"1.READ-UNCOMMITTED(\u8bfb\u53d6\u672a\u63d0\u4ea4\u5185\u5bb9)\u7ea7\u522b\r\n\\2. READ-COMMITTED\uff08\u8bfb\u53d6\u63d0\u4ea4\u5185\u5bb9\uff09\r\n\\3. REPEATABLE-READ(\u53ef\u91cd\u8bfb)\r\n4.SERIERLIZED(\u53ef\u4e32\u884c\u5316)\r\n\u9ed8\u8ba4\u7ea7\u522bREPEATABLE-READ"}),"\n",(0,s.jsx)(l.h3,{id:"explicit_defaults_for_timestamp--1",children:"explicit_defaults_for_timestamp = 1"}),"\n",(0,s.jsx)(l.p,{children:"mysql\u4e2dTIMESTAMP\u7c7b\u578b\u548c\u5176\u4ed6\u7684\u7c7b\u578b\u6709\u70b9\u4e0d\u4e00\u6837(\u5728\u6ca1\u6709\u8bbe\u7f6eexplicit_defaults_for_timestamp=1\u7684\u60c5\u51b5\u4e0b\uff09"}),"\n",(0,s.jsx)(l.h3,{id:"join_buffer_size--128m",children:"join_buffer_size = 128M"}),"\n",(0,s.jsx)(l.p,{children:"\u5f53\u6211\u4eec\u7684join\u662fALL,index,rang\u6216\u8005Index_merge\u7684\u65f6\u5019\u4f7f\u7528\u7684buffer\u3002 \u5b9e\u9645\u4e0a\u8fd9\u79cdjoin\u88ab\u79f0\u4e3aFULL JOIN"}),"\n",(0,s.jsx)(l.h3,{id:"tmp_table_size--128m",children:"tmp_table_size = 128M"}),"\n",(0,s.jsx)(l.p,{children:"\u89c4\u5b9a\u4e86\u5185\u90e8\u5185\u5b58\u4e34\u65f6\u8868\u7684\u6700\u5927\u503c\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u8981\u5206\u914d\u3002\uff08\u5b9e\u9645\u8d77\u9650\u5236\u4f5c\u7528\u7684\u662ftmp_table_size\u548cmax_heap_table_size\u7684\u6700\u5c0f\u503c\u3002\uff09\u5982\u679c\u5185\u5b58\u4e34\u65f6\u8868\u8d85\u51fa\u4e86\u9650\u5236\uff0cMySQL\u5c31\u4f1a\u81ea\u52a8\u5730\u628a\u5b83\u8f6c\u5316\u4e3a\u57fa\u4e8e\u78c1\u76d8\u7684MyISAM\u8868\uff0c\u5b58\u50a8\u5728\u6307\u5b9a\u7684tmpdir\u76ee\u5f55\u4e0b"}),"\n",(0,s.jsx)(l.h3,{id:"tmpdir--devshmmysql-tmp",children:"tmpdir = /dev/shm/mysql-tmp/"}),"\n",(0,s.jsx)(l.p,{children:"\u4fdd\u5b58\u4e34\u65f6\u6587\u4ef6\u7684\u76ee\u5f55"}),"\n",(0,s.jsx)(l.h3,{id:"max_allowed_packet--16m",children:"max_allowed_packet = 16M"}),"\n",(0,s.jsx)(l.p,{children:"mysql\u6700\u5927\u63a5\u53d7\u7684\u6570\u636e\u5305\u5927\u5c0f"}),"\n",(0,s.jsx)(l.h3,{id:"sql_mode--strict_trans_tablesno_engine_substitutionno_zero_dateno_zero_in_dateerror_for_division_by_zerono_auto_create_user",children:'sql_mode = "STRICT_TRANS_TABLES,NO_ENGINE_SUBSTITUTION,NO_ZERO_DATE,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER"'}),"\n",(0,s.jsx)(l.p,{children:"sql_mode \u6a21\u5f0f\uff0c\u5b9a\u4e49\u4e86\u4f60MySQL\u5e94\u8be5\u652f\u6301\u7684sql\u8bed\u6cd5\uff0c\u5bf9\u6570\u636e\u7684\u6821\u9a8c\u7b49\u7b49\uff0c\u9650\u5236\u4e00\u4e9b\u6240\u8c13\u7684\u2018\u4e0d\u5408\u6cd5\u2019\u7684\u64cd\u4f5c"}),"\n",(0,s.jsx)(l.h3,{id:"interactive_timeout--60",children:"interactive_timeout = 60"}),"\n",(0,s.jsx)(l.p,{children:"\u670d\u52a1\u5668\u5173\u95ed\u4ea4\u4e92\u5f0f\u8fde\u63a5\u524d\u7b49\u5f85\u6d3b\u52a8\u7684\u79d2\u6570\u3002\u4ea4\u4e92\u5f0f\u5ba2\u6237\u7aef\u5b9a\u4e49\u4e3a\u5728mysql_real_connect()\u4e2d\u4f7f\u7528CLIENT_INTERACTIVE\u9009\u9879\u7684\u5ba2\u6237\u7aef"}),"\n",(0,s.jsx)(l.h3,{id:"wait_timeout--60",children:"wait_timeout = 60"}),"\n",(0,s.jsx)(l.p,{children:"\u670d\u52a1\u5668\u5173\u95ed\u975e\u4ea4\u4e92\u8fde\u63a5\u4e4b\u524d\u7b49\u5f85\u6d3b\u52a8\u7684\u79d2\u6570\uff0c\u5728\u7ebf\u7a0b\u542f\u52a8\u65f6\uff0c\u6839\u636e\u5168\u5c40wait_timeout\u503c\u6216\u5168\u5c40interactive_timeout\u503c\u521d\u59cb\u5316\u4f1a\u8bddwait_timeout\u503c\uff0c\u53d6\u51b3\u4e8e\u5ba2\u6237\u7aef\u7c7b\u578b(\u7531mysql_real_connect()\u7684\u8fde\u63a5\u9009\u9879CLIENT_INTERACTIVE\u5b9a\u4e49)"}),"\n",(0,s.jsx)(l.h3,{id:"read_buffer_size--16m",children:"read_buffer_size = 16M"}),"\n",(0,s.jsx)(l.p,{children:"\u8bfb\u5165\u7f13\u51b2\u533a\u7684\u5927\u5c0f\uff0c\u5c06\u5bf9\u8868\u8fdb\u884c\u987a\u5e8f\u626b\u63cf\u7684\u8bf7\u6c42\u5c06\u5206\u914d\u4e00\u4e2a\u8bfb\u5165\u7f13\u51b2\u533a\uff0cMySQL\u4f1a\u4e3a\u5b83\u5206\u914d\u4e00\u6bb5\u5185\u5b58\u7f13\u51b2\u533a"}),"\n",(0,s.jsx)(l.h3,{id:"read_rnd_buffer_size--32m",children:"read_rnd_buffer_size = 32M"}),"\n",(0,s.jsx)(l.p,{children:"\u968f\u673a\u8bfb\u7f13\u51b2\u533a\u5927\u5c0f\uff0c\u5f53\u6309\u4efb\u610f\u987a\u5e8f\u8bfb\u53d6\u884c\u65f6\uff08\u5217\u5982\u6309\u7167\u6392\u5e8f\u987a\u5e8f\uff09\u5c06\u5206\u914d\u4e00\u4e2a\u968f\u673a\u8bfb\u53d6\u7f13\u51b2\u533a\uff0c\u8fdb\u884c\u6392\u5e8f\u67e5\u8be2\u65f6\uff0cMySQL\u4f1a\u9996\u5148\u626b\u63cf\u4e00\u904d\u8be5\u7f13\u51b2\uff0c\u4ee5\u907f\u514d\u78c1\u76d8\u641c\u7d22\uff0c\u63d0\u9ad8\u67e5\u8be2\u901f\u5ea6"}),"\n",(0,s.jsx)(l.h3,{id:"sort_buffer_size--32m",children:"sort_buffer_size = 32M"}),"\n",(0,s.jsx)(l.p,{children:"\u662f\u4e00\u4e2aconnection\u7ea7\u53c2\u6570\uff0c\u5728\u6bcf\u4e2aconnection\u7b2c\u4e00\u6b21\u9700\u8981\u4f7f\u7528\u8fd9\u4e2abuffer\u7684\u65f6\u5019\uff0c\u4e00\u6b21\u6027\u5206\u914d\u8bbe\u7f6e\u7684\u5185\u5b58"}),"\n",(0,s.jsx)(l.p,{children:"########log settings########"}),"\n",(0,s.jsx)(l.h3,{id:"log_error--datalocalmysql-5719logmysql-errorlog",children:"#log_error = /data/local/mysql-5.7.19/log/mysql-error.log"}),"\n",(0,s.jsx)(l.p,{children:"\u9519\u8bef\u65e5\u5fd7\u4f4d\u7f6e"}),"\n",(0,s.jsx)(l.h3,{id:"slow_query_log--1",children:"slow_query_log = 1"}),"\n",(0,s.jsx)(l.p,{children:"\u662f\u5426\u5f00\u542f\u6162\u67e5\u8be2\u65e5\u5fd7\u6536\u96c6"}),"\n",(0,s.jsx)(l.h3,{id:"slow_query_log_file--datalocalmysql-5719logmysql-slowlog",children:"slow_query_log_file = /data/local/mysql-5.7.19/log/mysql-slow.log"}),"\n",(0,s.jsx)(l.p,{children:"\u6162\u67e5\u8be2\u65e5\u5fd7\u4f4d\u7f6e"}),"\n",(0,s.jsx)(l.h3,{id:"log_queries_not_using_indexes--1",children:"log_queries_not_using_indexes = 1"}),"\n",(0,s.jsx)(l.p,{children:"\u662f\u5426\u8bb0\u5f55\u672a\u4f7f\u7528\u7d22\u5f15\u7684\u8bed\u53e5"}),"\n",(0,s.jsx)(l.h3,{id:"log_slow_admin_statements--1",children:"log_slow_admin_statements = 1"}),"\n",(0,s.jsx)(l.p,{children:"\u6162\u67e5\u8be2\u4e5f\u8bb0\u5f55\u90a3\u4e9b\u6162\u7684optimize table\uff0canalyze table\u548calter table\u8bed\u53e5"}),"\n",(0,s.jsx)(l.h3,{id:"log_slow_slave_statements--1",children:"log_slow_slave_statements = 1"}),"\n",(0,s.jsx)(l.p,{children:"\u8bb0\u5f55\u7531Slave\u6240\u4ea7\u751f\u7684\u6162\u67e5\u8be2"}),"\n",(0,s.jsx)(l.h3,{id:"log_throttle_queries_not_using_indexes--10",children:"log_throttle_queries_not_using_indexes = 10"}),"\n",(0,s.jsx)(l.p,{children:"\u8bbe\u5b9a\u6bcf\u5206\u949f\u8bb0\u5f55\u5230\u65e5\u5fd7\u7684\u672a\u4f7f\u7528\u7d22\u5f15\u7684\u8bed\u53e5\u6570\u76ee\uff0c\u8d85\u8fc7\u8fd9\u4e2a\u6570\u76ee\u540e\u53ea\u8bb0\u5f55\u8bed\u53e5\u6570\u91cf\u548c\u82b1\u8d39\u7684\u603b\u65f6\u95f4"}),"\n",(0,s.jsx)(l.h3,{id:"expire_logs_days--90",children:"expire_logs_days = 90"}),"\n",(0,s.jsx)(l.p,{children:"\u65e5\u5fd7\u81ea\u52a8\u8fc7\u671f\u6e05\u7406\u5929\u6570"}),"\n",(0,s.jsx)(l.h3,{id:"long_query_time--1",children:"long_query_time = 1"}),"\n",(0,s.jsx)(l.p,{children:"\u8bbe\u7f6e\u8bb0\u5f55\u6162\u67e5\u8be2\u8d85\u65f6\u65f6\u95f4"}),"\n",(0,s.jsx)(l.h3,{id:"min_examined_row_limit--100",children:"min_examined_row_limit = 100"}),"\n",(0,s.jsx)(l.p,{children:"\u67e5\u8be2\u68c0\u67e5\u8fd4\u56de\u5c11\u4e8e\u8be5\u53c2\u6570\u6307\u5b9a\u884c\u7684SQL\u4e0d\u88ab\u8bb0\u5f55\u5230\u6162\u67e5\u8be2\u65e5\u5fd7"}),"\n",(0,s.jsx)(l.p,{children:"########replication settings########"}),"\n",(0,s.jsx)(l.h3,{id:"master_info_repository--table",children:"#master_info_repository = TABLE"}),"\n",(0,s.jsx)(l.p,{children:"\u4ece\u673a\u4fdd\u5b58\u4e3b\u8282\u70b9\u4fe1\u606f\u65b9\u5f0f\uff0c\u8bbe\u6210file\u65f6 \u4f1a\u751f\u6210master.info \u548c relay-log.info2\u4e2a\u6587\u4ef6\uff0c\u8bbe\u6210table\uff0c\u4fe1\u606f\u5c31\u4f1a\u5b58\u5728mysql.master_slave_info\u8868\u4e2d\u3002\u4e0d\u7ba1\u662f\u8bbe\u7f6e\u7684\u54ea\u79cd\u503c\uff0c\u90fd\u4e0d\u8981\u79fb\u52a8\u6216\u8005\u7f16\u8f91\u76f8\u5173\u7684\u6587\u4ef6\u548c\u8868"}),"\n",(0,s.jsx)(l.h3,{id:"relay_log_info_repository--table",children:"#relay_log_info_repository = TABLE"}),"\n",(0,s.jsx)(l.p,{children:"\u7528\u4e8e\u4fdd\u5b58slave\u8bfb\u53d6relay log\u7684\u4f4d\u7f6e\u4fe1\u606f\uff0c\u53ef\u9009\u503c\u4e3a\u201cFILE\u201d\u3001\u201cTABLE\u201d\uff0c\u4ee5\u4fbfcrash\u91cd\u542f\u540e\u7ee7\u7eed\u6062\u590d"}),"\n",(0,s.jsx)(l.h3,{id:"log_bin--datalocalmysql-5719logmysql-bin",children:"log_bin = /data/local/mysql-5.7.19/log/mysql-bin"}),"\n",(0,s.jsx)(l.p,{children:"binlog\u7684\u4fdd\u5b58\u4f4d\u7f6e\uff0c\u4e0d\u80fd\u6307\u5b9a\u786e\u5b9a\u7684\u6587\u4ef6\u540d\u5982mysql-bin.log\uff0c\u53ea\u80fd\u6307\u5b9a\u4f4d\u7f6e\u548c\u524d\u7f00\uff0c\u4f1a\u751f\u6210\u4ee5\u524d\u7f00\u4e3a\u5f00\u5934\u7684\u4e00\u7cfb\u5217\u6587\u4ef6"}),"\n",(0,s.jsx)(l.h3,{id:"sync_binlog--4",children:"#sync_binlog = 4"}),"\n",(0,s.jsx)(l.p,{children:"\u8fd9\u4e2a\u53c2\u6570\u662f\u5bf9\u4e8eMySQL\u7cfb\u7edf\u6765\u8bf4\u662f\u81f3\u5173\u91cd\u8981\u7684\uff0c\u4ed6\u4e0d\u4ec5\u5f71\u54cd\u5230Binlog\u5bf9MySQL\u6240\u5e26\u6765\u7684\u6027\u80fd\u635f\u8017\uff0c\u800c\u4e14\u8fd8\u5f71\u54cd\u5230MySQL\u4e2d\u6570\u636e\u7684\u5b8c\u6574\u6027\u3002\u5bf9\u4e8e\u201csync_binlog\u201d\u53c2\u6570\u7684\u5404\u79cd\u8bbe\u7f6e\u7684\u8bf4\u660e\u5982\u4e0b\uff1a"}),"\n",(0,s.jsx)(l.p,{children:"sync_binlog=0\uff0c\u5f53\u4e8b\u52a1\u63d0\u4ea4\u4e4b\u540e\uff0cMySQL\u4e0d\u505afsync\u4e4b\u7c7b\u7684\u78c1\u76d8\u540c\u6b65\u6307\u4ee4\u5237\u65b0binlog_cache\u4e2d\u7684\u4fe1\u606f\u5230\u78c1\u76d8\uff0c\u800c\u8ba9Filesystem\u81ea\u884c\u51b3\u5b9a\u4ec0\u4e48\u65f6\u5019\u6765\u505a\u540c\u6b65\uff0c\u6216\u8005cache\u6ee1\u4e86\u4e4b\u540e\u624d\u540c\u6b65\u5230\u78c1\u76d8\u3002"}),"\n",(0,s.jsx)(l.p,{children:"sync_binlog=n\uff0c\u5f53\u6bcf\u8fdb\u884cn\u6b21\u4e8b\u52a1\u63d0\u4ea4\u4e4b\u540e\uff0cMySQL\u5c06\u8fdb\u884c\u4e00\u6b21fsync\u4e4b\u7c7b\u7684\u78c1\u76d8\u540c\u6b65\u6307\u4ee4\u6765\u5c06binlog_cache\u4e2d\u7684\u6570\u636e\u5f3a\u5236\u5199\u5165\u78c1\u76d8\u3002"}),"\n",(0,s.jsx)(l.p,{children:"\u5728MySQL\u4e2d\u7cfb\u7edf\u9ed8\u8ba4\u7684\u8bbe\u7f6e\u662fsync_binlog=0\uff0c\u4e5f\u5c31\u662f\u4e0d\u505a\u4efb\u4f55\u5f3a\u5236\u6027\u7684\u78c1\u76d8\u5237\u65b0\u6307\u4ee4\uff0c\u8fd9\u65f6\u5019\u7684\u6027\u80fd\u662f\u6700\u597d\u7684\uff0c\u4f46\u662f\u98ce\u9669\u4e5f\u662f\u6700\u5927\u7684\u3002\u56e0\u4e3a\u4e00\u65e6\u7cfb\u7edfCrash\uff0c\u5728binlog_cache\u4e2d\u7684\u6240\u6709binlog\u4fe1\u606f\u90fd\u4f1a\u88ab\u4e22\u5931\u3002\u800c\u5f53\u8bbe\u7f6e\u4e3a\u201c1\u201d\u7684\u65f6\u5019\uff0c\u662f\u6700\u5b89\u5168\u4f46\u662f\u6027\u80fd\u635f\u8017\u6700\u5927\u7684\u8bbe\u7f6e\u3002\u56e0\u4e3a\u5f53\u8bbe\u7f6e\u4e3a1\u7684\u65f6\u5019\uff0c\u5373\u4f7f\u7cfb\u7edfCrash\uff0c\u4e5f\u6700\u591a\u4e22\u5931binlog_cache\u4e2d\u672a\u5b8c\u6210\u7684\u4e00\u4e2a\u4e8b\u52a1\uff0c\u5bf9\u5b9e\u9645\u6570\u636e\u6ca1\u6709\u4efb\u4f55\u5b9e\u8d28\u6027\u5f71\u54cd\u3002\u4ece\u4ee5\u5f80\u7ecf\u9a8c\u548c\u76f8\u5173\u6d4b\u8bd5\u6765\u770b\uff0c\u5bf9\u4e8e\u9ad8\u5e76\u53d1\u4e8b\u52a1\u7684\u7cfb\u7edf\u6765\u8bf4\uff0c\u201csync_binlog\u201d\u8bbe\u7f6e\u4e3a0\u548c\u8bbe\u7f6e\u4e3a1\u7684\u7cfb\u7edf\u5199\u5165\u6027\u80fd\u5dee\u8ddd\u53ef\u80fd\u9ad8\u8fbe5\u500d\u751a\u81f3\u66f4\u591a\u3002"}),"\n",(0,s.jsx)(l.h3,{id:"gtid_mode--on",children:"gtid_mode = on"}),"\n",(0,s.jsx)(l.p,{children:"\u542f\u7528gtid\u7c7b\u578b\uff0c\u5426\u5219\u5c31\u662f\u666e\u901a\u7684\u590d\u5236\u67b6\u6784"}),"\n",(0,s.jsx)(l.h3,{id:"enforce_gtid_consistency--1",children:"enforce_gtid_consistency = 1"}),"\n",(0,s.jsx)(l.p,{children:"\u5f3a\u5236GTID\u7684\u4e00\u81f4\u6027"}),"\n",(0,s.jsx)(l.h3,{id:"log_slave_updates",children:"#log_slave_updates"}),"\n",(0,s.jsx)(l.p,{children:"slave\u66f4\u65b0\u662f\u5426\u8bb0\u5165\u65e5\u5fd7\uff0c\u5728\u505a\u53cc\u4e3b\u67b6\u6784\u65f6\u5f02\u5e38\u91cd\u8981\uff0c\u5f71\u54cd\u5230\u53cc\u4e3b\u67b6\u6784\u662f\u5426\u80fd\u4e92\u76f8\u540c\u6b65"}),"\n",(0,s.jsx)(l.h3,{id:"binlog_format--row",children:"binlog_format = row"}),"\n",(0,s.jsx)(l.p,{children:"binlog\u65e5\u5fd7\u683c\u5f0f\uff0c\u53ef\u9009\u503c\u201cMIXED\u201d\u3001\u201cROW\u201d\u3001\u201cSTATEMENT\u201d\uff0c\u57285.6\u7248\u672c\u4e4b\u524d\u9ed8\u8ba4\u4e3a\u201cSTATEMENT\u201d\uff0c5.6\u4e4b\u540e\u9ed8\u8ba4\u4e3a\u201cMIXED\u201d\uff1b\u56e0\u4e3a\u201cSTATEMENT\u201d\u65b9\u5f0f\u5728\u5904\u7406\u4e00\u4e9b\u201c\u4e0d\u786e\u5b9a\u201d\u6027\u7684\u65b9\u6cd5\u65f6\u4f1a\u9020\u6210\u6570\u636e\u4e0d\u4e00\u81f4\u95ee\u9898\uff0c\u6211\u4eec\u5efa\u8bae\u4f7f\u7528\u201cMIXED\u201d\u6216\u8005\u201cROW\u201d"}),"\n",(0,s.jsx)(l.h3,{id:"relay_log--datalocalmysql-5719logmysql-relaylog",children:"#relay_log = /data/local/mysql-5.7.19/log/mysql-relay.log"}),"\n",(0,s.jsx)(l.p,{children:"\u4ece\u673a\u4fdd\u5b58\u540c\u6b65\u4e2d\u7ee7\u65e5\u5fd7\u7684\u4f4d\u7f6e"}),"\n",(0,s.jsx)(l.h3,{id:"relay_log_recovery--1",children:"#relay_log_recovery = 1"}),"\n",(0,s.jsx)(l.p,{children:"\u5f53slave\u4ece\u5e93\u5b95\u673a\u540e\uff0c\u5047\u5982relay-log\u635f\u574f\u4e86\uff0c\u5bfc\u81f4\u4e00\u90e8\u5206\u4e2d\u7ee7\u65e5\u5fd7\u6ca1\u6709\u5904\u7406\uff0c\u5219\u81ea\u52a8\u653e\u5f03\u6240\u6709\u672a\u6267\u884c\u7684relay-log\uff0c\u5e76\u4e14\u91cd\u65b0\u4ecemaster\u4e0a\u83b7\u53d6\u65e5\u5fd7\uff0c\u8fd9\u6837\u5c31\u4fdd\u8bc1\u4e86relay-log\u7684\u5b8c\u6574\u6027"}),"\n",(0,s.jsx)(l.h3,{id:"binlog_gtid_simple_recovery--1",children:"#binlog_gtid_simple_recovery = 1"}),"\n",(0,s.jsx)(l.p,{children:"\u8fd9\u4e2a\u53c2\u6570\u63a7\u5236\u4e86\u5f53mysql\u542f\u52a8\u6216\u91cd\u542f\u65f6\uff0cmysql\u5728\u641c\u5bfbGTIDs\u65f6\u662f\u5982\u4f55\u8fed\u4ee3\u4f7f\u7528binlog\u6587\u4ef6\u7684\u3002 \u8fd9\u4e2a\u9009\u9879\u8bbe\u7f6e\u4e3a\u771f\uff0c\u4f1a\u63d0\u5347mysql\u6267\u884c\u6062\u590d\u7684\u6027\u80fd\u3002\u56e0\u4e3a\u8fd9\u6837mysql-server\u542f\u52a8\u548cbinlog\u65e5\u5fd7\u6e05\u7406\u66f4\u5feb"}),"\n",(0,s.jsx)(l.h3,{id:"slave_skip_errors--ddl_exist_errors",children:"#slave_skip_errors = ddl_exist_errors"}),"\n",(0,s.jsx)(l.p,{children:"\u8df3\u8fc7\u6307\u5b9aerror no\u7c7b\u578b\u7684\u9519\u8bef\uff0c\u8bbe\u6210all \u8df3\u8fc7\u6240\u6709\u9519\u8bef"}),"\n",(0,s.jsx)(l.p,{children:"########innodb settings########"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_page_size--16k",children:"innodb_page_size = 16K"}),"\n",(0,s.jsx)(l.p,{children:"innodb\u6bcf\u4e2a\u6570\u636e\u9875\u5927\u5c0f\uff0c\u8fd9\u4e2a\u53c2\u6570\u5728\u4e00\u5f00\u59cb\u521d\u59cb\u5316\u65f6\u5c31\u8981\u52a0\u5165my.cnf\u91cc\uff0c\u5982\u679c\u5df2\u7ecf\u521b\u5efa\u4e86\u8868\uff0c\u518d\u4fee\u6539\uff0c\u542f\u52a8MySQL\u4f1a\u62a5\u9519"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_buffer_pool_size--4g",children:"innodb_buffer_pool_size = 4G"}),"\n",(0,s.jsx)(l.p,{children:"\u7f13\u5b58innodb\u8868\u7684\u7d22\u5f15\uff0c\u6570\u636e\uff0c\u63d2\u5165\u6570\u636e\u65f6\u7684\u7f13\u51b2\uff0c\u4e13\u7528mysql\u670d\u52a1\u5668\u8bbe\u7f6e\u7684\u5927\u5c0f\uff1a \u64cd\u4f5c\u7cfb\u7edf\u5185\u5b58\u768470%-80%\u6700\u4f73"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_buffer_pool_instances--8",children:"#innodb_buffer_pool_instances = 8"}),"\n",(0,s.jsx)(l.p,{children:"\u53ef\u4ee5\u5f00\u542f\u591a\u4e2a\u5185\u5b58\u7f13\u51b2\u6c60\uff0c\u628a\u9700\u8981\u7f13\u51b2\u7684\u6570\u636ehash\u5230\u4e0d\u540c\u7684\u7f13\u51b2\u6c60\u4e2d\uff0c\u8fd9\u6837\u53ef\u4ee5\u5e76\u884c\u7684\u5185\u5b58\u8bfb\u5199"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_buffer_pool_load_at_startup--1",children:"#innodb_buffer_pool_load_at_startup = 1"}),"\n",(0,s.jsx)(l.p,{children:"\u9ed8\u8ba4\u4e3a\u5173\u95edOFF\u3002\u5982\u679c\u5f00\u542f\u8be5\u53c2\u6570\uff0c\u542f\u52a8MySQL\u670d\u52a1\u65f6\uff0cMySQL\u5c06\u672c\u5730\u70ed\u6570\u636e\u52a0\u8f7d\u5230InnoDB\u7f13\u51b2\u6c60\u4e2d"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_buffer_pool_dump_at_shutdown--1",children:"#innodb_buffer_pool_dump_at_shutdown = 1"}),"\n",(0,s.jsx)(l.p,{children:"\u9ed8\u8ba4\u4e3a\u5173\u95edOFF\u3002\u5982\u679c\u5f00\u542f\u8be5\u53c2\u6570\uff0c\u505c\u6b62MySQL\u670d\u52a1\u65f6\uff0cInnoDB\u5c06InnoDB\u7f13\u51b2\u6c60\u4e2d\u7684\u70ed\u6570\u636e\u4fdd\u5b58\u5230\u672c\u5730\u786c\u76d8"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_lru_scan_depth--2000",children:"#innodb_lru_scan_depth = 2000"}),"\n",(0,s.jsx)(l.p,{children:"\u6839\u636e \u5b98\u65b9\u6587\u6863 \u63cf\u8ff0\uff0c\u5b83\u4f1a\u5f71\u54cdpage cleaner\u7ebf\u7a0b\u6bcf\u6b21\u5237\u810f\u9875\u7684\u6570\u91cf\uff0c \u8fd9\u662f\u4e00\u4e2a\u6bcf1\u79d2 loop\u4e00\u6b21\u7684\u7ebf\u7a0b"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_lock_wait_timeout--5",children:"innodb_lock_wait_timeout = 5"}),"\n",(0,s.jsx)(l.p,{children:"\u4e8b\u52a1\u7b49\u5f85\u83b7\u53d6\u8d44\u6e90\u7b49\u5f85\u7684\u6700\u957f\u65f6\u95f4\uff0c\u8d85\u8fc7\u8fd9\u4e2a\u65f6\u95f4\u8fd8\u672a\u5206\u914d\u5230\u8d44\u6e90\u5219\u4f1a\u8fd4\u56de\u5e94\u7528\u5931\u8d25\uff1b\u53c2\u6570\u7684\u65f6\u95f4\u5355\u4f4d\u662f\u79d2"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_io_capacity--4000-innodb_io_capacity_max--8000",children:"#innodb_io_capacity = 4000 #innodb_io_capacity_max = 8000"}),"\n",(0,s.jsx)(l.p,{children:"\u8fd9\u4e24\u4e2a\u8bbe\u7f6e\u4f1a\u5f71\u54cdInnoDB\u6bcf\u79d2\u5728\u540e\u53f0\u6267\u884c\u591a\u5c11\u64cd\u4f5c. \u5927\u591a\u6570\u5199IO(\u9664\u4e86\u5199InnoDB\u65e5\u5fd7)\u662f\u540e\u53f0\u64cd\u4f5c\u7684. \u5982\u679c\u4f60\u6df1\u5ea6\u4e86\u89e3\u786c\u4ef6\u6027\u80fd(\u5982\u6bcf\u79d2\u53ef\u4ee5\u6267\u884c\u591a\u5c11\u6b21IO\u64cd\u4f5c),\u5219\u4f7f\u7528\u8fd9\u4e9b\u529f\u80fd\u662f\u5f88\u53ef\u53d6\u7684,\u800c\u4e0d\u662f\u8ba9\u5b83\u95f2\u7740"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_flush_method--o_direct",children:"#innodb_flush_method = O_DIRECT"}),"\n",(0,s.jsx)(l.p,{children:"\u9ed8\u8ba4\u503c\u4e3a fdatasync. \u5982\u679c\u4f7f\u7528 \u786c\u4ef6RAID\u78c1\u76d8\u63a7\u5236\u5668, \u53ef\u80fd\u9700\u8981\u8bbe\u7f6e\u4e3a O_DIRECT. \u8fd9\u5728\u8bfb\u53d6InnoDB\u7f13\u51b2\u6c60\u65f6\u53ef\u9632\u6b62\u201c\u53cc\u7f13\u51b2(double buffering)\u201d\u6548\u5e94,\u5426\u5219\u4f1a\u5728\u6587\u4ef6\u7cfb\u7edf\u7f13\u5b58\u4e0eInnoDB\u7f13\u5b58\u95f4\u5f62\u62102\u4e2a\u526f\u672c(copy). \u5982\u679c\u4e0d\u4f7f\u7528\u786c\u4ef6RAID\u63a7\u5236\u5668,\u6216\u8005\u4f7f\u7528SAN\u5b58\u50a8\u65f6, O_DIRECT \u53ef\u80fd\u4f1a\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_log_group_home_dir--datalocalmysql-5719logredolog",children:"#innodb_log_group_home_dir = /data/local/mysql-5.7.19/log/redolog/"}),"\n",(0,s.jsx)(l.p,{children:"innodb\u91cd\u505a\u65e5\u5fd7\u4fdd\u5b58\u76ee\u5f55"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_undo_directory--datalocalmysql-5719logundolog",children:"#innodb_undo_directory = /data/local/mysql-5.7.19/log/undolog/"}),"\n",(0,s.jsx)(l.p,{children:"innodb\u56de\u6eda\u65e5\u5fd7\u4fdd\u5b58\u76ee\u5f55"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_undo_logs--128",children:"#innodb_undo_logs = 128"}),"\n",(0,s.jsx)(l.p,{children:"undo\u56de\u6eda\u6bb5\u7684\u6570\u91cf\uff0c \u81f3\u5c11\u5927\u4e8e\u7b49\u4e8e35\uff0c\u9ed8\u8ba4128"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_undo_tablespaces--0",children:"#innodb_undo_tablespaces = 0"}),"\n",(0,s.jsx)(l.p,{children:"\u7528\u4e8e\u8bbe\u5b9a\u521b\u5efa\u7684undo\u8868\u7a7a\u95f4\u7684\u4e2a\u6570\uff0c\u5728mysql_install_db\u65f6\u521d\u59cb\u5316\u540e\uff0c\u5c31\u518d\u4e5f\u4e0d\u80fd\u88ab\u6539\u52a8\u4e86\uff1b\u9ed8\u8ba4\u503c\u4e3a0\uff0c\u8868\u793a\u4e0d\u72ec\u7acb\u8bbe\u7f6eundo\u7684tablespace\uff0c\u9ed8\u8ba4\u8bb0\u5f55\u5230ibdata\u4e2d\uff1b\u5426\u5219\uff0c\u5219\u5728undo\u76ee\u5f55\u4e0b\u521b\u5efa\u8fd9\u4e48\u591a\u4e2aundo\u6587\u4ef6\uff0c\u4f8b\u5982\u5047\u5b9a\u8bbe\u7f6e\u8be5\u503c\u4e3a4\uff0c\u90a3\u4e48\u5c31\u4f1a\u521b\u5efa\u547d\u540d\u4e3aundo001~undo004\u7684undo tablespace\u6587\u4ef6\uff0c\u6bcf\u4e2a\u6587\u4ef6\u7684\u9ed8\u8ba4\u5927\u5c0f\u4e3a10M\u3002\u4fee\u6539\u8be5\u503c\u4f1a\u5bfc\u81f4Innodb\u65e0\u6cd5\u5b8c\u6210\u521d\u59cb\u5316\uff0c\u6570\u636e\u5e93\u65e0\u6cd5\u542f\u52a8\uff0c\u4f46\u662f\u53e6\u4e24\u4e2a\u53c2\u6570\u53ef\u4ee5\u4fee\u6539"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_flush_neighbors--1",children:"#innodb_flush_neighbors = 1"}),"\n",(0,s.jsx)(l.p,{children:"InnoDB\u5b58\u50a8\u5f15\u64ce\u5728\u5237\u65b0\u4e00\u4e2a\u810f\u9875\u65f6\uff0c\u4f1a\u68c0\u6d4b\u8be5\u9875\u6240\u5728\u533a(extent)\u7684\u6240\u6709\u9875\uff0c\u5982\u679c\u662f\u810f\u9875\uff0c\u90a3\u4e48\u4e00\u8d77\u5237\u65b0\u3002\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\u901a\u8fc7AIO\u53ef\u4ee5\u5c06\u591a\u4e2aIO\u5199\u64cd\u4f5c\u5408\u5e76\u4e3a\u4e00\u4e2aIO\u64cd\u4f5c\u3002\u5bf9\u4e8e\u4f20\u7edf\u673a\u68b0\u786c\u76d8\u5efa\u8bae\u4f7f\u7528\uff0c\u800c\u5bf9\u4e8e\u56fa\u6001\u786c\u76d8\u53ef\u4ee5\u5173\u95ed\u3002"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_log_file_size--4g",children:"#innodb_log_file_size = 4G"}),"\n",(0,s.jsx)(l.p,{children:"\u8fd9\u4e2a\u503c\u5b9a\u4e49\u4e86\u65e5\u5fd7\u6587\u4ef6\u7684\u5927\u5c0f\uff0cinnodb\u65e5\u5fd7\u6587\u4ef6\u7684\u4f5c\u7528\u662f\u7528\u6765\u4fdd\u5b58redo\u65e5\u5fd7\u3002\u4e00\u4e2a\u4e8b\u52a1\u5bf9\u4e8e\u6570\u636e\u6216\u7d22\u5f15\u7684\u4fee\u6539\u5f80\u5f80\u5bf9\u5e94\u5230\u8868\u7a7a\u95f4\u4e2d\u7684\u968f\u673a\u7684\u4f4d\u7f6e\uff0c\u56e0\u6b64\u5f53\u5237\u65b0\u8fd9\u4e9b\u4fee\u6539\u5230\u78c1\u76d8\u4e2d\u5c31\u4f1a\u5f15\u8d77\u968f\u673a\u7684I/O\uff0c\u800c\u968f\u673a\u7684I/O\u5f80\u5f80\u6bd4\u987a\u5e8f\u7684I/O\u66f4\u52a0\u6602\u8d35\u7684\u5f00\u9500\uff0c\u56e0\u4e3a\u968f\u673a\u7684I/O\u9700\u8981\u66f4\u591a\u7684\u5f00\u9500\u6765\u5b9a\u4f4d\u5230\u6307\u5b9a\u7684\u4f4d\u7f6e\u3002innodb\u4f7f\u7528\u65e5\u5fd7\u6765\u5c06\u968f\u673a\u7684I/O\u8f6c\u4e3a\u987a\u5e8f\u7684I/O\uff0c\u53ea\u8981\u65e5\u5fd7\u6587\u4ef6\u662f\u5b89\u5168\u7684\uff0c\u90a3\u4e48\u4e8b\u52a1\u5c31\u662f\u6c38\u4e45\u7684\uff0c\u5c3d\u7ba1\u8fd9\u4e9b\u6539\u53d8\u8fd8\u6ca1\u6709\u5199\u5230\u6570\u636e\u6587\u4ef6\u4e2d\uff0c\u5982\u679c\u51fa\u73b0\u4e86\u5f53\u673a\u6216\u670d\u52a1\u5668\u65ad\u7535\u7684\u60c5\u51b5\uff0c\u90a3\u4e48innodb\u4e5f\u53ef\u4ee5\u901a\u8fc7\u65e5\u5fd7\u6587\u4ef6\u6765\u6062\u590d\u4ee5\u53ca\u63d0\u4ea4\u7684\u4e8b\u52a1\u3002\u4f46\u662f\u65e5\u5fd7\u6587\u4ef6\u662f\u6709\u4e00\u5b9a\u7684\u5927\u5c0f\u7684\uff0c\u6240\u4ee5\u5fc5\u987b\u8981\u628a\u65e5\u5fd7\u6587\u4ef6\u8bb0\u5f55\u7684\u6539\u53d8\u5199\u5230\u6570\u636e\u6587\u4ef6\u4e2d\uff0cinnodb\u5bf9\u4e8e\u65e5\u5fd7\u6587\u4ef6\u7684\u64cd\u4f5c\u662f\u5faa\u73af\u7684\uff0c\u5373\u5f53\u65e5\u5fd7\u6587\u4ef6\u5199\u6ee1\u540e\uff0c\u4f1a\u5c06\u6307\u9488\u91cd\u65b0\u79fb\u52a8\u5230\u6587\u4ef6\u5f00\u59cb\u7684\u5730\u65b9\u91cd\u65b0\u5199\uff0c\u4f46\u662f\u5b83\u4e0d\u4f1a\u8986\u76d6\u90a3\u4e9b\u8fd8\u6ca1\u6709\u5199\u5230\u6570\u636e\u6587\u4ef6\u4e2d\u7684\u65e5\u5fd7\uff0c\u56e0\u4e3a\u8fd9\u662f\u552f\u4e00\u8bb0\u5f55\u4e86\u4e8b\u52a1\u6301\u4e45\u5316\u7684\u8bb0\u5f55"}),"\n",(0,s.jsx)(l.p,{children:"\u5982\u679c\u5bf9 Innodb \u6570\u636e\u8868\u6709\u5927\u91cf\u7684\u5199\u5165\u64cd\u4f5c\uff0c\u90a3\u4e48\u9009\u62e9\u5408\u9002\u7684 innodb_log_file_size \u503c\u5bf9\u63d0\u5347MySQL\u6027\u80fd\u5f88\u91cd\u8981\u3002\u7136\u800c\u8bbe\u7f6e\u592a\u5927\u4e86\uff0c\u5c31\u4f1a\u589e\u52a0\u6062\u590d\u7684\u65f6\u95f4\uff0c\u56e0\u6b64\u5728MySQL\u5d29\u6e83\u6216\u8005\u7a81\u7136\u65ad\u7535\u7b49\u60c5\u51b5\u4f1a\u4ee4MySQL\u670d\u52a1\u5668\u82b1\u5f88\u957f\u65f6\u95f4\u6765\u6062\u590d"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_log_buffer_size--16m",children:"#innodb_log_buffer_size = 16M"}),"\n",(0,s.jsx)(l.p,{children:"\u4e8b\u52a1\u5728\u5185\u5b58\u4e2d\u7684\u7f13\u51b2\u3002 \u5206\u914d\u539f \u5219\uff1a\u63a7\u5236\u57282-8M.\u8fd9\u4e2a\u503c\u4e0d\u7528\u592a\u591a\u7684\u3002\u4ed6\u91cc\u9762\u7684\u5185\u5b58\u4e00\u822c\u4e00\u79d2\u949f\u5199\u5230\u78c1\u76d8\u4e00\u6b21"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_purge_threads--4",children:"#innodb_purge_threads = 4"}),"\n",(0,s.jsx)(l.p,{children:"\u63a7\u5236\u662f\u5426\u4f7f\u7528\uff0c\u4f7f\u7528\u51e0\u4e2a\u72ec\u7acbpurge\u7ebf\u7a0b\uff08\u6e05\u9664\u4e8c\u8fdb\u5236\u65e5\u5fd7\uff09"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_large_prefix--1",children:"innodb_large_prefix = 1"}),"\n",(0,s.jsx)(l.p,{children:"mysql\u57285.6\u4e4b\u524d\u4e00\u76f4\u90fd\u662f\u5355\u5217\u7d22\u5f15\u9650\u5236767\uff0c\u8d77\u56e0\u662f256\xd73-1\u3002\u8fd9\u4e2a3\u662f\u5b57\u7b26\u6700\u5927\u5360\u7528\u7a7a\u95f4\uff08utf8\uff09\u3002\u4f46\u662f\u57285.6\u4ee5\u540e\uff0c\u5f00\u59cb\u652f\u63014\u4e2a\u5b57\u8282\u7684uutf8\u3002255\xd74>767, \u4e8e\u662f\u589e\u52a0\u4e86\u8fd9\u4e2a\u53c2\u6570\u3002\u8fd9\u4e2a\u53c2\u6570\u9ed8\u8ba4\u503c\u662fOFF\u3002\u5f53\u6539\u4e3aON\u65f6\uff0c\u5141\u8bb8\u5217\u7d22\u5f15\u6700\u5927\u8fbe\u52303072"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_thread_concurrency--64",children:"innodb_thread_concurrency = 64"}),"\n",(0,s.jsx)(l.p,{children:"InnoDB kernel\u5e76\u53d1\u6700\u5927\u7684\u7ebf\u7a0b\u6570\u3002 1) \u6700\u5c11\u8bbe\u7f6e\u4e3a(num_disks+num_cpus)*2\u3002 2) \u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u62101000\u6765\u7981\u6b62\u8fd9\u4e2a\u9650\u5236"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_print_all_deadlocks--1",children:"#innodb_print_all_deadlocks = 1"}),"\n",(0,s.jsx)(l.p,{children:"\u662f\u5426\u5c06\u6b7b\u9501\u76f8\u5173\u4fe1\u606f\u4fdd\u5b58\u5230MySQL \u9519\u8bef\u65e5\u5fd7\u4e2d"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_strict_mode--1",children:"#innodb_strict_mode = 1"}),"\n",(0,s.jsx)(l.p,{children:"\u5f00\u542fInnoDB\u4e25\u683c\u68c0\u67e5\u6a21\u5f0f\uff0c\u5c24\u5176\u91c7\u7528\u4e86\u9875\u6570\u636e\u538b\u7f29\u529f\u80fd\u540e\uff0c\u6700\u597d\u662f\u5f00\u542f\u8be5\u529f\u80fd\u3002\u5f00\u542f\u6b64\u529f\u80fd\u540e\uff0c\u5f53\u521b\u5efa\u8868\uff08CREATE TABLE\uff09\u3001\u66f4\u6539\u8868\uff08ALTER TABLE\uff09\u548c\u521b\u5efa\u7d22\u5f15\uff08CREATE INDEX\uff09\u8bed\u53e5\u65f6\uff0c\u5982\u679c\u5199\u6cd5\u6709\u9519\u8bef\uff0c\u4e0d\u4f1a\u6709\u8b66\u544a\u4fe1\u606f\uff0c\u800c\u662f\u76f4\u63a5\u629b\u51fa\u9519\u8bef\uff0c\u8fd9\u6837\u5c31\u53ef\u76f4\u63a5\u5c06\u95ee\u9898\u627c\u6740\u5728\u6447\u7bee\u91cc"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_sort_buffer_size--64m",children:"innodb_sort_buffer_size = 64M"}),"\n",(0,s.jsx)(l.p,{children:"ORDER BY \u6216\u8005GROUP BY \u64cd\u4f5c\u7684buffer\u7f13\u5b58\u5927\u5c0f"}),"\n",(0,s.jsx)(l.p,{children:"########semi sync replication settings########"}),"\n",(0,s.jsx)(l.h3,{id:"plugin_dirdatalocalmysql-5719libplugin",children:"#plugin_dir=/data/local/mysql-5.7.19/lib/plugin"}),"\n",(0,s.jsx)(l.p,{children:"\u6307\u5b9amysql\u7684\u63d2\u4ef6\u76ee\u5f55"}),"\n",(0,s.jsx)(l.h3,{id:"plugin_load--rpl_semi_sync_mastersemisync_mastersorpl_semi_sync_slavesemisync_slaveso",children:'#plugin_load = "rpl_semi_sync_master=semisync_master.so;rpl_semi_sync_slave=semisync_slave.so"'}),"\n",(0,s.jsx)(l.p,{children:"\u6307\u5b9a\u8f7d\u5165\u54ea\u4e9b\u63d2\u4ef6"}),"\n",(0,s.jsx)(l.h3,{id:"loose_rpl_semi_sync_master_enabled--1",children:"#loose_rpl_semi_sync_master_enabled = 1"}),"\n",(0,s.jsx)(l.p,{children:"\u63a7\u5236\u4e3b\u5e93\u4e0a\u662f\u5426\u5f00\u542fsemisync"}),"\n",(0,s.jsx)(l.h3,{id:"loose_rpl_semi_sync_slave_enabled--1",children:"#loose_rpl_semi_sync_slave_enabled = 1"}),"\n",(0,s.jsx)(l.p,{children:"\u63a7\u5236\u5907\u5e93\u662f\u5426\u5f00\u542fsemisync"}),"\n",(0,s.jsx)(l.h3,{id:"loose_rpl_semi_sync_master_timeout--5000",children:"#loose_rpl_semi_sync_master_timeout = 5000"}),"\n",(0,s.jsx)(l.p,{children:"\u5355\u4f4d\u6beb\u79d2\uff0c\u9632\u6b62\u534a\u540c\u6b65\u590d\u5236\u5728\u6ca1\u6709\u6536\u5230\u786e\u8ba4\u7684\u60c5\u51b5\u4e0b\uff0c\u53d1\u9001\u5835\u585e\u3002master\u5728\u8d85\u65f6\u4e4b\u524d\u6ca1\u6709\u6536\u5230\u786e\u8ba4\uff0c\u5c06\u6062\u590d\u5230\u5f02\u6b65\u590d\u5236\uff0c\u7ee7\u7eed\u6267\u884c\u534a\u540c\u6b65\u6ca1\u6709\u8fdb\u884c\u7684\u64cd\u4f5c"}),"\n",(0,s.jsx)(l.p,{children:"[mysqld-5.7]"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_buffer_pool_dump_pct--40",children:"#innodb_buffer_pool_dump_pct = 40"}),"\n",(0,s.jsx)(l.p,{children:"\u8868\u793a\u8f6c\u50a8\u6bcf\u4e2abp instance LRU\u4e0a\u6700\u70ed\u7684page\u7684\u767e\u5206\u6bd4\u3002\u901a\u8fc7\u8bbe\u7f6e\u8be5\u53c2\u6570\u53ef\u4ee5\u51cf\u5c11\u8f6c\u50a8\u7684page\u6570"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_page_cleaners--4",children:"innodb_page_cleaners = 4"}),"\n",(0,s.jsx)(l.p,{children:"\u4e3a\u4e86\u63d0\u5347\u6269\u5c55\u6027\u548c\u5237\u810f\u6548\u7387\uff0c\u57285.7.4\u7248\u672c\u91cc\u5f15\u5165\u4e86\u591a\u4e2apage cleaner\u7ebf\u7a0b\u3002\u4ece\u800c\u8fbe\u5230\u5e76\u884c\u5237\u810f\u7684\u6548\u679c"}),"\n",(0,s.jsx)(l.p,{children:"\u5728\u8be5\u7248\u672c\u4e2d\uff0cPage cleaner\u5e76\u672a\u548cbuffer pool\u7ed1\u5b9a\uff0c\u5176\u6a21\u578b\u4e3a\u4e00\u4e2a\u534f\u8c03\u7ebf\u7a0b + \u591a\u4e2a\u5de5\u4f5c\u7ebf\u7a0b\uff0c\u534f\u8c03\u7ebf\u7a0b\u672c\u8eab\u4e5f\u662f\u5de5\u4f5c\u7ebf\u7a0b\u3002\u56e0\u6b64\u5982\u679cinnodb_page_cleaners\u8bbe\u7f6e\u4e3a8\uff0c\u90a3\u4e48\u5c31\u662f\u4e00\u4e2a\u534f\u8c03\u7ebf\u7a0b\uff0c\u52a07\u4e2a\u5de5\u4f5c\u7ebf\u7a0b"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_undo_log_truncate--1",children:"#innodb_undo_log_truncate = 1"}),"\n",(0,s.jsx)(l.p,{children:"\u662f\u5426\u5f00\u542f\u5728\u7ebf\u56de\u6536\uff08\u6536\u7f29\uff09undo log\u65e5\u5fd7\u6587\u4ef6\uff0c\u652f\u6301\u52a8\u6001\u8bbe\u7f6e"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_max_undo_log_size--2g",children:"#innodb_max_undo_log_size = 2G"}),"\n",(0,s.jsx)(l.p,{children:"\u5f53\u8d85\u8fc7\u8fd9\u4e2a\u9600\u503c\uff08\u9ed8\u8ba4\u662f1G\uff09\uff0c\u4f1a\u89e6\u53d1truncate\u56de\u6536\uff08\u6536\u7f29\uff09\u52a8\u4f5c\uff0ctruncate\u540e\u7a7a\u95f4\u7f29\u5c0f\u523010M"}),"\n",(0,s.jsx)(l.h3,{id:"innodb_purge_rseg_truncate_frequency--128",children:"#innodb_purge_rseg_truncate_frequency = 128"}),"\n",(0,s.jsx)(l.p,{children:"\u63a7\u5236\u56de\u6536\uff08\u6536\u7f29\uff09undo log\u7684\u9891\u7387\u3002undo log\u7a7a\u95f4\u5728\u5b83\u7684\u56de\u6eda\u6bb5\u6ca1\u6709\u5f97\u5230\u91ca\u653e\u4e4b\u524d\u4e0d\u4f1a\u6536\u7f29\uff0c \u60f3\u8981\u589e\u52a0\u91ca\u653e\u56de\u6eda\u533a\u95f4\u7684\u9891\u7387\uff0c\u5c31\u5f97\u964d\u4f4e\u8bbe\u5b9a\u503c"}),"\n",(0,s.jsx)(l.h3,{id:"binlog_gtid_simple_recovery1",children:"#binlog_gtid_simple_recovery=1"}),"\n",(0,s.jsx)(l.p,{children:"\u8fd9\u4e2a\u53c2\u6570\u63a7\u5236\u4e86\u5f53mysql\u542f\u52a8\u6216\u91cd\u542f\u65f6\uff0cmysql\u5728\u641c\u5bfbGTIDs\u65f6\u662f\u5982\u4f55\u8fed\u4ee3\u4f7f\u7528binlog\u6587\u4ef6\u7684\u3002 \u8fd9\u4e2a\u9009\u9879\u8bbe\u7f6e\u4e3a\u771f\uff0c\u4f1a\u63d0\u5347mysql\u6267\u884c\u6062\u590d\u7684\u6027\u80fd\u3002\u56e0\u4e3a\u8fd9\u6837mysql-server\u542f\u52a8\u548cbinlog\u65e5\u5fd7\u6e05\u7406\u66f4\u5feb\u3002\u8be5\u53c2\u6570\u4e3a\u771f\u65f6\uff0cmysql-server\u53ea\u9700\u6253\u5f00\u6700\u8001\u7684\u548c\u6700\u65b0\u7684\u8fd92\u4e2abinlog\u6587\u4ef6"}),"\n",(0,s.jsx)(l.h3,{id:"log_timestampssystem",children:"log_timestamps=system"}),"\n",(0,s.jsx)(l.p,{children:"\u5728MySQL 5.7.2 \u65b0\u589e\u4e86 log_timestamps \u8fd9\u4e2a\u53c2\u6570\uff0c\u8be5\u53c2\u6570\u4e3b\u8981\u662f\u63a7\u5236 error log\u3001genera log\uff0c\u7b49\u7b49\u8bb0\u5f55\u65e5\u5fd7\u7684\u663e\u793a\u65f6\u95f4\u53c2\u6570\u3002 \u5728 5.7.2 \u4e4b\u540e\u6539\u53c2\u6570\u4e3a\u9ed8\u8ba4 UTC \u8fd9\u6837\u4f1a\u5bfc\u81f4\u65e5\u5fd7\u4e2d\u8bb0\u5f55\u7684\u65f6\u95f4\u6bd4\u4e2d\u56fd\u8fd9\u8fb9\u7684\u6162\uff0c\u5bfc\u81f4\u67e5\u770b\u65e5\u5fd7\u4e0d\u65b9\u4fbf\u3002\u4fee\u6539\u4e3a SYSTEM \u5c31\u80fd\u89e3\u51b3\u95ee\u9898"}),"\n",(0,s.jsx)(l.h3,{id:"transaction_write_set_extractionmurmur32",children:"#transaction_write_set_extraction=MURMUR32"}),"\n",(0,s.jsx)(l.p,{children:"\u8fd9\u4e2a\u795e\u5947\u7684\u53c2\u65705.7.6\u7248\u672c\u5f15\u5165\uff0c\u7528\u4e8e\u5b9a\u4e49\u4e00\u4e2a\u8bb0\u5f55\u4e8b\u52a1\u7684\u7b97\u6cd5\uff0c\u8fd9\u4e2a\u7b97\u6cd5\u4f7f\u7528hash\u6807\u8bc6\u6765\u8bb0\u5f55\u4e8b\u52a1\u3002\u5982\u679c\u4f7f\u7528MGR\uff0c\u90a3\u4e48\u8fd9\u4e2ahash\u503c\u9700\u8981\u7528\u4e8e\u5206\u5e03\u5f0f\u51b2\u7a81\u68c0\u6d4b\u4f55\u5904\u7406\uff0c\u572864\u4f4d\u7684\u7cfb\u7edf\uff0c\u5b98\u7f51\u5efa\u8bae\u8bbe\u7f6e\u8be5\u53c2\u6570\u4f7f\u7528 XXHASH64 \u7b97\u6cd5\u3002\u5982\u679c\u7ebf\u4e0a\u5e76\u6ca1\u6709\u4f7f\u7528\u8be5\u529f\u80fd\uff0c\u5e94\u8be5\u8bbe\u4e3aoff"}),"\n",(0,s.jsx)(l.h3,{id:"show_compatibility_56on",children:"#show_compatibility_56=on"}),"\n",(0,s.jsx)(l.p,{children:"\u4ecemysql5.7.6\u5f00\u59cbinformation_schema.global_status\u5df2\u7ecf\u5f00\u59cb\u88ab\u820d\u5f03\uff0c\u4e3a\u4e86\u517c\u5bb9\u6027\uff0c\u6b64\u65f6\u9700\u8981\u6253\u5f00 show_compatibility_56"})]})}function c(e={}){const{wrapper:l}={...(0,o.R)(),...e.components};return l?(0,s.jsx)(l,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},8453:(e,l,n)=>{n.d(l,{R:()=>_,x:()=>d});var i=n(6540);const s={},o=i.createContext(s);function _(e){const l=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(l):{...l,...e}}),[l,e])}function d(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:_(e.components),i.createElement(o.Provider,{value:l},e.children)}}}]);