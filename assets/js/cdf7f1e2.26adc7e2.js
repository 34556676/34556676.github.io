"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4977],{3959:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>i,contentTitle:()=>l,default:()=>m,frontMatter:()=>a,metadata:()=>o,toc:()=>r});const o=JSON.parse('{"id":"\u6570\u636e\u5e93/mysql/my.conf","title":"my.conf","description":"","source":"@site/docs/\u6570\u636e\u5e93/mysql/my.conf.md","sourceDirName":"\u6570\u636e\u5e93/mysql","slug":"/\u6570\u636e\u5e93/mysql/my.conf","permalink":"/docs/\u6570\u636e\u5e93/mysql/my.conf","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u6570\u636e\u5e93/mysql/my.conf.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"innodbbackup\u5907\u4efd","permalink":"/docs/\u6570\u636e\u5e93/mysql/innodbbackup\u5907\u4efd"},"next":{"title":"mysql\u5168\u91cf\u5f02\u5730\u5907\u4efd","permalink":"/docs/\u6570\u636e\u5e93/mysql/mysql\u5168\u91cf\u5f02\u5730\u5907\u4efd"}}');var t=s(4848),_=s(8453);const a={},l=void 0,i={},r=[];function c(n){const e={code:"code",pre:"pre",...(0,_.R)(),...n.components};return(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"[mysqld]\nport=3506\n# DATA STORAGE #\nsql_mode='STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION'\nbasedir = /data/mysql\ndatadir = /data/mysql/data/\nsocket=/tmp/mysql.sock\n#skip-grant-tables=1\nslave-skip-errors=all\ncharacter-set-server=utf8\nexplicit_defaults_for_timestamp=true\nlower_case_table_names=1\nback_log=103\nmax_connections=3000\nmax_connect_errors=100000\ntable_open_cache=512\nexternal-locking=FALSE\nmax_allowed_packet=32M\nslave_pending_jobs_size_max=128M\nsort_buffer_size=6M\njoin_buffer_size=8M\nthread_cache_size=256\nquery_cache_type=1\nquery_cache_size=32M\ntransaction_isolation=REPEATABLE-READ\ntmp_table_size=1024M\nmax_heap_table_size=96M\nlog_timestamps = SYSTEM\n###***slowqueryparameters\nlong_query_time=5\nslow_query_log = 1\nslow_query_log_file=/data/mysql/logs/mysql-slow.log\nwait_timeout=28800\ninteractive_timeout=28800\n#***Innodbstorageengineparameters\ninnodb_buffer_pool_size=30\ninnodb_data_file_path=ibdata1:10M:autoextend\n#innodb_file_io_threads=8\ninnodb_thread_concurrency=16\ninnodb_flush_log_at_trx_commit=2\nsync_binlog=500\ninnodb_log_buffer_size=16M\ninnodb_log_file_size=512M\ninnodb_log_files_in_group=2\ninnodb_max_dirty_pages_pct=75\ninnodb_buffer_pool_dump_pct=75\ninnodb_lock_wait_timeout=120\ninnodb_file_per_table=on\ninnodb_lru_scan_depth=256\n# Disabling symbolic-links is recommended to prevent assorted security risks\nsymbolic-links=0\nlog-error=/data/mysql/logs/mysqld.log\npid-file=/data/mysql/data/mysqld.pid\n\n# BINARY LOGGING #\nlog-bin                        = /data/mysql/logs/mysql-bin\nbinlog-format                  = row\nexpire-logs-days               = 7\nsync-binlog                    = 0\ninnodb-flush-log-at-trx-commit = 1\nrelay_log_purge                = 0\nbinlog_cache_size              = 1M\nmax_binlog_size                = 200M\n\n# Cluster #\nread_only=1;\n#super_read_only=1;\nserver-id = 397\nlog-bin=mysqlnode3-bin\ngtid_mode = on\nenforce_gtid_consistency = 1\nlog_slave_updates = 1\nplugin_load = \"rpl_semi_sync_master=semisync_master.so;rpl_semi_sync_slave=semisync_slave.so\"\nloose_rpl_semi_sync_master_enabled = 1\nloose_rpl_semi_sync_slave_enabled = 1\nloose_rpl_semi_sync_master_timeout = 5000\n"})})}function m(n={}){const{wrapper:e}={...(0,_.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(c,{...n})}):c(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>a,x:()=>l});var o=s(6540);const t={},_=o.createContext(t);function a(n){const e=o.useContext(_);return o.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:a(n.components),o.createElement(_.Provider,{value:e},n.children)}}}]);