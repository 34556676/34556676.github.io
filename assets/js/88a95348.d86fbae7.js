"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6801],{4101:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>t,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"\u6570\u636e\u5e93/mysql/MySQL\u63d2\u4ef6\u4e4b\u914d\u7f6e\u5bc6\u7801\u7b56\u7565validate_password\u63d2\u4ef6","title":"MySQL\u63d2\u4ef6\u4e4b\u914d\u7f6e\u5bc6\u7801\u7b56\u7565validate_password\u63d2\u4ef6","description":"\u63d2\u4ef6\u4ecb\u7ecd","source":"@site/docs/\u6570\u636e\u5e93/mysql/MySQL\u63d2\u4ef6\u4e4b\u914d\u7f6e\u5bc6\u7801\u7b56\u7565validate_password\u63d2\u4ef6.md","sourceDirName":"\u6570\u636e\u5e93/mysql","slug":"/\u6570\u636e\u5e93/mysql/MySQL\u63d2\u4ef6\u4e4b\u914d\u7f6e\u5bc6\u7801\u7b56\u7565validate_password\u63d2\u4ef6","permalink":"/docs/\u6570\u636e\u5e93/mysql/MySQL\u63d2\u4ef6\u4e4b\u914d\u7f6e\u5bc6\u7801\u7b56\u7565validate_password\u63d2\u4ef6","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\u6570\u636e\u5e93/mysql/MySQL\u63d2\u4ef6\u4e4b\u914d\u7f6e\u5bc6\u7801\u7b56\u7565validate_password\u63d2\u4ef6.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"MySQL\u63d2\u4ef6\u4e4b\u8fde\u63a5\u63a7\u5236\u63d2\u4ef6(Connection-Control)","permalink":"/docs/\u6570\u636e\u5e93/mysql/MySQL\u63d2\u4ef6\u4e4b\u8fde\u63a5\u63a7\u5236\u63d2\u4ef6(Connection-Control)"},"next":{"title":"MySQL\u67e5\u8be2\u7f13\u5b58\u7b80\u5355\u4f7f\u7528","permalink":"/docs/\u6570\u636e\u5e93/mysql/MySQL\u67e5\u8be2\u7f13\u5b58\u7b80\u5355\u4f7f\u7528"}}');var a=n(4848),l=n(8453);const i={},t=void 0,d={},o=[];function c(e){const s={a:"a",code:"code",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.strong,{children:"\u63d2\u4ef6\u4ecb\u7ecd"}),"\r\nvalidate_password \u662f mysql5.6\u4ee5\u540e\u53ef\u4ee5\u5f15\u5165\u7684\u4e00\u4e2a\u65b0\u5bc6\u7801\u6821\u9a8c\u63d2\u4ef6, \u7ba1\u7406\u7528\u6237\u5bc6\u7801\u957f\u5ea6\u3001\u5f3a\u5ea6\u7b49\u3002mysql 5.7 \u9ed8\u8ba4\u662f\u5b89\u88c5\u542f\u7528 validate_password\u3002"]}),"\n",(0,a.jsx)(s.p,{children:"1\u3001\u68c0\u67e5\u63d2\u4ef6\u76ee\u5f55"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"mysql> show variables like 'plugin_dir';\n"})}),"\n",(0,a.jsx)(s.p,{children:"2\u3001\u4e0b\u8f7d\u7b2c\u4e09\u65b9\u5f00\u6e90\u63d2\u4ef6\u6587\u4ef6\u5e76\u4e0a\u4f20\u5230\u6b65\u9aa41\u76ee\u5f55\u4e0a"}),"\n",(0,a.jsx)(s.p,{children:"3\u3001\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u5bf9\u8c61\u53c2\u6570\u914d\u7f6e"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"[mysqld]\r\nplugin-load=validate_password.so\r\nvalidate_password_policy=2\r\nvalidate_password_length=6\r\nvalidate_password_mixed_case_count = 1\r\nvalidate_password_special_char_count = 0\r\nvalidate_password.check_user_name =OFF\r\nvalidate_password_number_count = 1\n"})}),"\n",(0,a.jsx)(s.p,{children:"4\u3001\u8fde\u63a5\u6570\u636e\u5e93\u5e76\u8fdb\u884c\u5b89\u88c5\u63d2\u4ef6"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"mysql> INSTALL PLUGIN validate_password SONAME 'validate_password.so'; \n"})}),"\n",(0,a.jsx)(s.p,{children:"5\u3001\u68c0\u67e5\u786e\u8ba4"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"SELECT\r\nPLUGIN_NAME,\r\nPLUGIN_STATUS,\r\nplugin_library,\r\nload_option\r\nFROM\r\nINFORMATION_SCHEMA.PLUGINS \r\nWHERE\r\nplugin_library = 'validate_password.so';\r\nmysql> show plugins;\n"})}),"\n",(0,a.jsx)(s.p,{children:"6\u3001\u6839\u636e\u9700\u6c42\u914d\u7f6e\u5bc6\u7801\u7b56\u7565 6.1 \u68c0\u67e5\u7b56\u7565\u53d8\u91cf\u914d\u7f6e"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"mysql> SHOW VARIABLES LIKE 'validate_password%';\n"})}),"\n",(0,a.jsx)(s.p,{children:"+--------------------------------------+--------+ | Variable_name | Value | +--------------------------------------+--------+ | validate_password_check_user_name | OFF | | validate_password_dictionary_file | | | validate_password_length | 8 | | validate_password_mixed_case_count | 1 | | validate_password_number_count | 1 | | validate_password_policy | MEDIUM | | validate_password_special_char_count | 1 | +--------------------------------------+--------+"}),"\n",(0,a.jsx)(s.p,{children:"6.2 \u5bc6\u7801\u9a8c\u8bc1\u63d2\u4ef6\u9009\u9879\u548c\u53d8\u91cf 1\uff09\u9009\u9879--\u544a\u8bc9\u670d\u52a1\u542f\u52a8\u65f6\u5982\u4f55\u52a0\u8f7d\u63d2\u4ef6 --validate-password[=ON|OFF|FORCE|FORCE_PLUS_PERMANENT] ON: \u9ed8\u8ba4\u503c OFF\uff1a\u5173\u95ed FORCE: \u5f3a\u5236 FORCE_PLUS_PERMANENT: mysqld\u670d\u52a1\u542f\u52a8\u65f6\u52a0\u8f7d\u63d2\u4ef6\u5e76\u9632\u6b62\u670d\u52a1\u5728\u8fd0\u884c\u4e2d\u5c06\u5176\u5220\u9664"}),"\n",(0,a.jsx)(s.p,{children:"2\uff09\u53d8\u91cf--\u542f\u7528\u7684\u68c0\u67e5\u914d\u7f6e\u9879"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-shell",children:"validate_password_mixed_case_count : #\u5927\u5c0f\u5199\u7684\u6700\u5c0f\u4e2a\u6570 \r\nvalidate_password_check_user_name : #\u9ed8\u8ba4\u5173\u95ed\uff0c\u8bbe\u7f6e\u4e3aON\u65f6\u53ef\u4ee5\u5c06\u5bc6\u7801\u8bbe\u7f6e\u6210\u5f53\u524d\u7528\u6237\u540d\r\nvalidate_password_dictionary_file : #\u68c0\u67e5\u5bc6\u7801\u7684\u5b57\u5178\u6587\u4ef6\u7684\u8def\u5f84\u540d \r\nvalidate_password_length : \u9ed8\u8ba4\u4e3a8\uff0c#\u9650\u5236\u5bc6\u7801\u957f\u5ea6\u7684\u6700\u5c0f\u5b57\u7b26\u6570 \r\nvalidate_password_mixed_case_count : #\u9ed8\u8ba4\u503c\u4e3a1\uff0c\u9650\u5236\u5c0f\u5199\u5b57\u7b26\u548c\u5927\u5199\u5b57\u7b26\u4e2a\u6570\r\nvalidate_password_number_count : #\u9ed8\u8ba4\u503c\u4e3a1\uff0c\u9650\u5236\u6570\u5b57\u7684\u4e2a\u6570 \r\nvalidate_password_policy : #\u9ed8\u8ba4\u503c\u4e3a1, \u5bc6\u7801\u5f3a\u5ea6\u7b49\u7ea7 [LOW:0| MEDIUM:1 | STRONG:2] \r\nvalidate_password_special_char_count : #\u9ed8\u8ba4\u503c\u4e3a1\uff0c\u9650\u5236\u7279\u6b8a\u5b57\u7b26\u4e2a\u6570\r\nvalidate_password_policy 0/LOW\uff1a#\u53ea\u68c0\u67e5\u957f\u5ea6\u3002 1/MEDIUM\uff1a\u68c0\u67e5\u957f\u5ea6\u3001\u6570\u5b57\u3001\u5927\u5c0f\u5199\u3001\u7279\u6b8a\u5b57\u7b26\u3002 2/STRONG\uff1a\u68c0\u67e5\u957f\u5ea6\u3001\u6570\u5b57\u3001\u5927\u5c0f\u5199\u3001\u7279\u6b8a\u5b57\u7b26\u5b57\u5178\u6587\u4ef6\u3002 \n"})}),"\n",(0,a.jsxs)(s.ol,{start:"7",children:["\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:"\u6ce8\u610f\u4e8b\u9879"}),"\n",(0,a.jsx)(s.p,{children:"7.1 \u8d26\u53f7\u5bc6\u7801\u8fc7\u671f\uff0c\u9700\u4fee\u6539\u5bc6\u7801 \u9047\u5230\u573a\u666f\uff1aERROR 1820 (HY000): You must reset your password using ALTER USER statement before executing this statement."}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:"\u6ce8\u610f\u5bc6\u7801\u7b56\u7565\u8981\u6c42 validate_password_policy \u7b49"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"show variables like 'validate_password%';\n"})}),"\n",(0,a.jsxs)(s.ol,{start:"2",children:["\n",(0,a.jsx)(s.li,{children:"\u4f9d\u636e\u5bc6\u7801\u7b56\u7565\u8981\u6c42\u4fee\u6539\u5bc6\u7801\r\n-- 2.1 \u5982\u679c\u5bc6\u7801\u4e0eServer\u7684\u7b56\u7565\u8981\u6c42\u4e0d\u4e00\u81f4\u65f6\uff0c\u4e34\u65f6\u4fee\u6539\u7b56\u7565\u53ca\u5bc6\u7801\u540e\u6062\u590d\u5bc6\u7801\u7b56\u7565"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"set global validate_password_policy=0; \r\n\r\nset global validate_password_length=1; \r\n\r\nalter user 'root'@'localhost' identified by 'root'; \r\n\r\nset global validate_password_policy=1; \r\n\r\nset global validate_password_length=8; \r\n\r\nflush privileges;\n"})}),"\n",(0,a.jsx)(s.p,{children:"-- 2.2 \u5bc6\u7801\u7b26\u5408\u8981\u6c42"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"alter user 'root'@'localhost' identified by 'R#isn218aio'; \r\nflush privileges;\n"})}),"\n",(0,a.jsxs)(s.p,{children:["\u53c2\u8003\u5730\u5740\uff1a",(0,a.jsx)(s.a,{href:"https://www.cnblogs.com/binliubiao/p/12462693.html#2589713351",children:"https://www.cnblogs.com/binliubiao/p/12462693.html#2589713351"})]})]})}function p(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>t});var r=n(6540);const a={},l=r.createContext(a);function i(e){const s=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(l.Provider,{value:s},e.children)}}}]);